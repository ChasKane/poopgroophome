<!DOCTYPE html>
<html>
    
    <head>
    <title>TI Innovation Lab</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- get styls and stuff from bootstrap //Load first, so that any changes to style are done after this load//-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    <script src="../../js/lab/3dprinters.js"></script>
    
    <script src="../../js/common.js"></script> 
    <script src="../../js/utils.js"></script> 
    <script src="../../js/lab/material.js"></script>

    </head>
            <style>
            #selectmaterial
            {
                 width: 200px;
            }
            /* set color of navigation */
            .sidenav {
                background-color:rgb(204, 0, 0);
                height: 100%;
                width: 240px;
                position: fixed;
                z-index: 1;
                top: 0;
                left: 0;
                overflow-x: hidden;
            }
            
            .nav-selections {
                font-size: x-large;
            }
            .nav-sub-selections {
                font-size: large;
            }
            /* .main {
                margin-left: 160px;
                padding: 0px 10px;
            } */
            @media screen and (max-height: 450px) {
                .sidenav {padding-top: 15px;}
            }
            /*Mehoy*/
            .b-color-1 {
                background-color:rgb(204, 0, 0);
            }
            .b-color-2 {
                background-color:rgb(199, 199, 199);
            }
            
            .b-color-3 {
                background-color:rgb(255, 255, 255);
            }
            .b-color-4 {
                background-color:rgb(199, 199, 199);
            }
            .color-1 {
                color:rgb(204, 0, 0);
            }
            .color-2 {
                color:rgb(199, 199, 199);
            }
            .color-3 {
                color:rgb(255, 255, 255);
            }
            .color-4 {
                color:rgb(199, 199, 199);
            }
            .custom-container-fluid {
                padding-left: 260px;
                padding-right: 50px;
            }
         .Waiting {
            background-color: red;
        }
        .Cutting {
            background-color: yellow;
        }
        .Skipped {
            background-color: grey;
        }
        .Done {
            background-color: green;
        }
        .custom-container {
            padding-left: 260px;
            padding-right: 50px;
        }
    </style>
    
    
    <body id="sexyBody" onload="loadFire();  getLabTechs('tech_select');">
        <nav id="" class="navbar navbar-inverse visible-xs b-color-1">
            <div id="" class="container-fluid b-color-1">
                <div id="" class="navbar-header b-color-1">
                    <button id="" type="button" class="navbar-toggle color-1" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar" ></span>
                        <span class="icon-bar" ></span>
                        <span class="icon-bar" ></span>                        
                    </button>
                    <a id="" class="navbar-brand color-3" href="#" >Logo</a>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                        <li><a href="html/students/students.html">Students</a></li>
                        <li class="dropdown">
                            <a class="dropdown-toggle color-3" data-toggle="dropdown">Lab
                            <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li><a href="html/lab/Laser_Cutter.html">Laser Cutters</a></li>
                                <li><a href="html/lab/3D_Printers.html">3D Printers</a></li>
                                <li><a href="html/lab/Equipment_Rental.html">Equipment Rentals</a></li>
                            </ul>
                        </li>
                        <li><a href="html/management/Management.html">Management</a></li>
                    </ul>
                </div>
            </div>
        </nav>


        <div class="col-sm-2 sidenav hidden-xs"> <!--hidden-xs-->
            <h1><img src="http://104.248.113.22/img/logo.png" alt="logo" style="width:210px;height:50px; padding-left: 0px "  ></h1>
            <ul class="nav nav-stacked"><!---->
                <li class="nav-selections"><a class="color-3" href="html/students/students.html">Students</a></li>
                <li class="nav-selections">
                    <a class="color-3" data-toggle="collapse" data-target="#dropit">Lab
                    <span class="caret"></span></a>
                    <div id="dropit" class="collapse">
                        <ul class="nav nav-stacked">
                            <li class="nav-sub-selections"><a class="color-3" href="html/lab/Laser_Cutter.html">Laser Cutters</a></li>
                            <li class="nav-sub-selections"><a class="color-3" href="html/lab/3D_Printers.html">3D Printers</a></li>
                            <li class="nav-sub-selections"><a class="color-3" href="html/lab/Equipment_Rental.html">Equipment Rentals</a></li>
                        </ul>
                    </div>
                </li>
                <li class="nav-selections"><a class="color-3" href="html/management/Management.html">Management</a></li>
            </ul>
        </div>
        <br>     

        <!-- Here is the pop ups -->
        
        <div class="modal fade" id="modalPop" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h2 id="popViewTitle" class="modal-title">TEST</h2>
                        </div>
                        <div id="popViewBod" align="center" class="modal-body">
                            test
                        </div>
                        <div class="modal-footer">
                            <button id="popBottomButt" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
        </div>

        <div class="modal fade" id="addStudentModal" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h2 id="addStudentHeader" class="modal-title">TEST</h2>
                        </div>
                        <div id="addStudentBody" align="center" class="modal-body">
                            <form action="/action_page.php">
                                <label for="fname">First Name </label>
                                <input class="form-control" type="text" id="add_fname" name="firstname" placeholder="Your name..">
                                <br>
                                <label for="lname">Last Name </label>
                                <input class="form-control" type="text" id="add_lname" name="lastname" placeholder="Your last name..">
                                <br>
                                <label for="email">School Email </label><span></span>
                                <input class="form-control" type="text" id="add_email" name="schoolemail" placeholder="Your school email..">
                                <br>
                                <label for="student_id">Student ID</label><span></span>
                                <input class="form-control" type="text" id="add_student_id" name="student_id" placeholder="Your Student ID">
                                <br>
                                <label for="major">Major</label> &nbsp;<span></span><span></span>
                                <select  class="form-control" id="add_major_profile" name="major">
                                  <option value="australia">Australia</option>
                                  <option value="canada">Canada</option>
                                  <option value="usa">USA</option>
                                </select>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button id="addStudentButton" type="button" class="btn btn-default" onclick="addStudent(event);">Submit</button> 
                            <button id="addStudentClose" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
        </div>

    
    
      


  

        <div class="custom-container">
    
            <div id="display" class="col-sm-2" content-include-html="This is where the other HTML conent is displayed"></div>

            <div class="container-fluid col-sm-12">
                <ul class="nav nav-tabs">
                    <li class="active"><a data-toggle="tab" href="#home">3D Print Queue</a></li>
                    <li ><a data-toggle="tab" href="#menu1" onclick="getmaterials();">3D Print Material</a></li>
                </ul>
            
                <div class="tab-content">
                    <div id="home" class="tab-pane fade in active">
                        <body>
                            <div id="3d_cutting_queue" class="well container-fluid" vis="block">
                                <div class="row content">
                                    <div><center>
                                        <h1 class="title-color">3D Printer Queue</h1>
                                    </center></div>

                                    <form class="form-horizontal">
                                        <div class="from-group container-fluid">
                                            <label class="col-sm-1">Tech:</label>
                                            <div class="col-sm-4">
                                                <select class="form-control" id="tech_select"></select>
                                            </div>
                                        </div>
                                        <br>

                                        <div class="from-group container-fluid">
                                            <label class="col-sm-1 control-label">Add:</label>
                                            <div class="col-sm-4">
                                                <input id="userCard_ID" class="form-control" placeholder="Search" type="text">
                                            </div>
                                            <a type="button" class="btn btn-default btn-sm col-sm-2" role="button" onclick="manuallyAddQueue();">Manualy Add Student</a>
                                        </div>
                                    </form>
                    
                                    <div id="contactTableDiv"> 
                                    
                                        <div><br><center>
                                            <button type="button" id="fillTableButton" class="btn btn-default btn-sm" onclick="get3DPrinterQueue();"> Update Table </button>
                                        </center></div>
                                        <br>
                    
                                        <div class="container-fluid">
                                            <div class="table-responsive">
                                                <table class="table table-bordered table-condensed table-hover">
                                                    <thead>
                                                        <tr>
                                                            <th>Queue Position</th>
                                                            <th>Machine ID</th>
                                                            <th>Student ID</th>
                                                            <th>Tech ID</th>
                                                            <th>Estimated time</th>
                                                            <th>Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tableBody">
                                                        
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div> 
                                </div>        
                            </div>

                            <div id="manually_add_to_queue"  vis="none" style="display: none;">
                                <label for="name">Name</label>
                                <input class="form-control" type="text" id="student_name" name="name" placeholder="Student name..">
                                <br>
                                <label for="estimated_time">Estimated Time </label>
                                <input class="form-control" type="text" id="estimated_time" name="estimated_time" placeholder="Estimated time format: 00:30:00 for 30 minutes">
                                <br>
                                <label>Lab Tech </label><span></span>
                                <select class="form-control" id="tech_select_add"></select>   
                                <br>
                                <label>Machine ID</label><span></span>
                                <select class="form-control" id="machine_id"></select> 
                                <br>
                                <label>Part Name</label><span></span>
                                <input  class="form-control" id="part_name"></select> 
                                <br>
                                <label>File Path</label><span></span>
                                <input  class="form-control" id="file_path"></select> 
                                <br>
                                <label>Material Name</label><span></span>
                                <input  class="form-control" id="material_name"></select> 
                                <br>
                                <label>Soluble Name</label><span></span>
                                <input  class="form-control" id="soluble_name"></select> 
                                <br>
                                <label>Material Amount</label><span></span>
                                <input  class="form-control" id="material_amount"></select> 
                                <br>
                                <label>Soluble Amount</label><span></span>
                                <input  class="form-control" id="soluble_name"></select> 
                                <br>
                                <label>Club Name</label><span></span>
                                <input  class="form-control" id="club_name"></select> 
                                <br>
                                
                                
                                <button id="add_to_queue_button" onclick="addTo3DQueueButton()">Add to queue</button>
                            </div>
                        </body>
                    </div>


                    <div id="menu1" class="tab-pane fade">
                        <div class="well b-color-3">
                            <h1>Material Tracking</h1>
                            <button type="button"  class="btn btn-default btn-sm" onclick="getmaterials();"> get materials </button>
                            <p></p>
                            <select id="selectmaterial" onchange="showtable();">
                                <option>Select Material</option>
                            </select>
                            <form class="form-horizontal">
                                <div class="from-group container-fluid">
                                  
                                  <div style="width:75%;">
                                  <canvas id="canvas"></canvas>
                                  </div>
                                  <br>
                                  <br>
                                  <script>
                                  
                                    
                                  </script>






                                </div>
                            </form>
                            <div class="well b-color-3">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    
         <script>
        var sessId, baseUrl = "http://104.248.113.22", objRequest, dbReqParam, xmlHRequest, tObjs, tIds;
        /*function that includes html*/
        function includeHTML(arg)
        {
            var z, i, elmnt, file, xhttp, id;
            file = arg
            /*loop thru html elements*/
            z = document.getElementsByTagName("*");
            for (i = 0; i < z.length; i++) 
            {
                elmnt = z[i];
                if (elmnt.getAttribute("content-include-html") == "This is where the other HTML conent is displayed")
                {
                    /*make http req*/
                    xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function()
                    {
                        if (this.readyState == 4)
                        {
                            if (this.status == 200) {elmnt.innerHTML = this.responseText;}
                            if (this.status == 404) {elmnt.innerHTML = "ERR 404: page not found!";}
                            /*edit attrib, call again*/
                            elmnt.setAttribute("content-include-html", "nope");
                            includeHTML();
                            elmnt.setAttribute("content-include-html", "This is where the other HTML conent is displayed");
                        }
                    }
                    xhttp.open("GET", file, true);
                    xhttp.send();
                    
                    return;
                }
            }
        }
        // Pop up function for confirmations and alerts
        function modPop(arg)
        {
            var i, j;
        
            
            //  if (true)
            //  {
                    // document.getElementById("popViewTitle").innerHTML = "Hello There";
                    // document.getElementById("popViewBod").innerHTML = "<p></p>";
                    // document.getElementById("popBottomButt").innerHTML = "Close";
            //      return;
            //  }
        }
        // focus an element
        function focusPocus()
        {
            document.getElementById("userCard_ID").focus();
        }
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.js"></script>
   
    <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase-messaging.js"></script>
   
</html>